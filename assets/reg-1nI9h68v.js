import{_ as w}from"./AppTextField-CL8XetUb.js";import{Z as b,j as v,r as u,a as h,o as x,c as C,d,b as e,e as a,m as s,H as f,v as k,al as S,am as U,t as _,x as R,ay as T}from"./index-BjDmxniD.js";import{V as B}from"./VNodeRenderer-43haKNnH.js";import{a as E,b as N,V as P}from"./VCard-B4EcrHoo.js";import{V as $}from"./VCardText-C0Om0SY7.js";import{V as j}from"./VForm-D04SD3Qg.js";import{V as A,a as m}from"./VRow-CKTj_i92.js";import"./VTextField-DUW-qATq.js";import"./VImg-C0T_JZIO.js";import"./forwardRefs-DWGaNmQL.js";import"./VAvatar-B9QNh2DP.js";/* empty css              */const L={class:"auth-wrapper d-flex align-center justify-center pa-4"},F={class:"position-relative my-sm-16"},I={class:"app-logo"},M={class:"app-logo-title"},z=d("span",{class:"d-inline-block"},"Already have an account?",-1),se={__name:"reg",setup(D){const V=b(),g=v(),t=u({username:"",email:"",password:""}),n=u({username:"",email:"",password:""}),i=u(!1),y=async()=>{try{const r=await T("https://tg-adsnet-api-proxy.goourl.ru/api/auth/register/",{method:"POST",body:{username:t.value.username,email:t.value.email,password:t.value.password},onResponseError({response:o}){n.value=o._data.errors}});(r==null?void 0:r.status)==="success"&&(V.setLoginMsg("User successfully registered"),g.push("/login"))}catch(r){console.error(r)}};return(r,o)=>{const c=h("RouterLink"),p=w;return x(),C("div",L,[d("div",F,[e(P,{class:R(["auth-card",r.$vuetify.display.smAndUp?"pa-6":"pa-0"]),"max-width":"460"},{default:a(()=>[e(E,{class:"justify-center"},{default:a(()=>[e(N,null,{default:a(()=>[e(c,{to:"/"},{default:a(()=>[d("div",I,[e(s(B),{nodes:s(f).app.logo},null,8,["nodes"]),d("h1",M,k(s(f).app.title),1)])]),_:1})]),_:1})]),_:1}),e($,null,{default:a(()=>[e(j,{onSubmit:S(y,["prevent"])},{default:a(()=>[e(A,null,{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(p,{modelValue:s(t).username,"onUpdate:modelValue":o[0]||(o[0]=l=>s(t).username=l),autofocus:"",label:"Username",placeholder:"Username","error-messages":s(n).username},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(p,{modelValue:s(t).email,"onUpdate:modelValue":o[1]||(o[1]=l=>s(t).email=l),label:"Email",type:"email",placeholder:"Email","error-messages":s(n).email},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(p,{modelValue:s(t).password,"onUpdate:modelValue":o[2]||(o[2]=l=>s(t).password=l),label:"Password",placeholder:"Password",type:s(i)?"text":"password","append-inner-icon":s(i)?"tabler-eye-off":"tabler-eye","error-messages":s(n).password,"onClick:appendInner":o[3]||(o[3]=l=>i.value=!s(i))},null,8,["modelValue","type","append-inner-icon","error-messages"]),e(U,{block:"",type:"submit",class:"mt-8"},{default:a(()=>[_(" Sign up ")]),_:1})]),_:1}),e(m,{cols:"12",class:"text-center text-base"},{default:a(()=>[z,e(c,{class:"text-primary ms-1 d-inline-block",to:"login"},{default:a(()=>[_(" Sign in instead ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}};export{se as default};
