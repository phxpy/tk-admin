import{_ as x}from"./AppTextField-Ck_ox4uQ.js";import{r,i as U,az as $,aA as E,ax as C,o as N,f as O,e as l,b as e,m as v,t as h,al as P}from"./index-Cg307mwv.js";import{_ as V}from"./DemoSelectBasic-DU4v4JTg.js";import{_ as y}from"./DemoSelectChips-DT93POMB.js";import{V as i,a as n}from"./VRow-bVqneUok.js";import{V as o}from"./VCard-CMRWxdwW.js";import{V as u}from"./VCardText-CPabXxxK.js";import"./VTextField-nR0g1Dhg.js";import"./VImg-CTNgiUfx.js";import"./forwardRefs-DWGaNmQL.js";import"./AppSelect-D3kKwQSQ.js";import"./VList-DOijohah.js";import"./VAvatar-DZAfVjqb.js";import"./VDivider-CJJ7EpGU.js";import"./VOverlay-BNFBBIco.js";import"./VMenu-b7u_DWNN.js";import"./VCheckboxBtn-BsJFJXtr.js";import"./VChip-Cq-pPocE.js";/* empty css              */const X={__name:"editcampaign",setup(w){const k=r({}),p=r(""),g=r(""),f=r([]),c=r([]),_=r([]),b=U(),s=$();E(async()=>{const d=await C(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${b.query.id}`,{method:"GET"});k.value=d,d.telegram_premium?p.value="Yes":p.value="No",g.value=d.title,d.language.forEach(t=>{f.value.push(s.languages[t])}),d.country.forEach(t=>{c.value.push(s.countries[t])}),d.platform.forEach(t=>{_.value.push(s.platforms[t])})});const T=async()=>{const d=[];for(let a in s.platforms)_.value.includes(s.platforms[a])&&d.push(a);const t=[];for(let a in s.countries)c.value.includes(s.countries[a])&&t.push(a);const m=[];for(let a in s.languages)f.value.includes(s.languages[a])&&m.push(a);try{const a=await C(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${b.query.id}/edit/`,{method:"PATCH",body:{title:g.value,telegram_premium:p.value,platform:d,country:t,language:m}})}catch(a){console.error(a)}};return(d,t)=>{const m=x;return N(),O(i,null,{default:l(()=>[e(n,{cols:"9",md:"9"},{default:l(()=>[e(o,{class:"mb-6",title:"Campaing update"},{default:l(()=>[e(u,null,{default:l(()=>[e(m,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a),label:"Name",placeholder:"Campaing name"},null,8,["modelValue"])]),_:1}),e(u,null,{default:l(()=>[e(i,null,{default:l(()=>[e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,{title:"GEO"},{default:l(()=>[e(u,null,{default:l(()=>[e(y,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),items:Object.values(v(s).countries),"selected-items":c.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,{title:"Language"},{default:l(()=>[e(u,null,{default:l(()=>[e(y,{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=a=>f.value=a),items:Object.values(v(s).languages),"selected-items":f.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,null,{default:l(()=>[e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,{title:"OS"},{default:l(()=>[e(u,null,{default:l(()=>[e(y,{modelValue:_.value,"onUpdate:modelValue":t[3]||(t[3]=a=>_.value=a),items:Object.values(v(s).platforms),"selected-items":_.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,{title:"Premium"},{default:l(()=>[e(u,null,{default:l(()=>[e(V,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),items:["Yes","No"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{class:"mb-6",title:"Task settings"},{default:l(()=>[e(u,null,{default:l(()=>[e(i,null,{default:l(()=>[e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,null,{default:l(()=>[e(V,{label:"Task type"})]),_:1})]),_:1})]),_:1}),e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,null,{default:l(()=>[e(V,{label:"Task type"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,null,{default:l(()=>[e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,null,{default:l(()=>[h(" 12312312312312 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{class:"mb-6",title:"Finance settings"},{default:l(()=>[e(u,null,{default:l(()=>[e(i,null,{default:l(()=>[e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,null,{default:l(()=>[e(m,{label:"Task price","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1}),e(n,{cols:"6",md:"6"},{default:l(()=>[e(o,null,{default:l(()=>[e(u,null,{default:l(()=>[e(m,{label:"Campaign limit","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"3",md:"3"},{default:l(()=>[e(o,{class:"campaing-btn-card"},{default:l(()=>[e(u,null,{default:l(()=>[e(P,{color:"primary",block:"",onClick:T},{default:l(()=>[h(" Update ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{X as default};
