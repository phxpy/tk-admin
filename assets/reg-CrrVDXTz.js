import{_ as w}from"./AppTextField-kdAlZDBj.js";import{Z as h,j as x,r as m,a0 as C,a as k,o as S,c as U,d as p,b as a,e as s,m as e,H as _,v as R,al as T,am as B,t as V,x as E,ay as N}from"./index-Dco7z2gH.js";import{V as P}from"./VNodeRenderer-p0Th8rDd.js";import{a as $,b as j,V as A}from"./VCard-Bgiz3i9Q.js";import{V as F}from"./VCardText-CkDvxaKE.js";import{V as L}from"./VForm-COEdBShC.js";import{V as I,a as u}from"./VRow-CuYswbJw.js";import"./VTextField-GKVZybIY.js";import"./VImg-Ccp8c_PP.js";import"./forwardRefs-DWGaNmQL.js";import"./VAvatar-Xh_m_4zz.js";/* empty css              */const M={class:"auth-wrapper d-flex align-center justify-center pa-4"},z={class:"position-relative my-sm-16"},D={class:"app-logo"},H={class:"app-logo-title"},O=p("span",{class:"d-inline-block"},"Already have an account?",-1),le={__name:"reg",setup(Z){const g=h(),y=x(),o=m({username:"",email:"",password:""}),n=m({username:"",email:"",password:""}),i=m(!1),d=m(!1),v=C(()=>o.value.username&&o.value.email&&o.value.password),b=async()=>{i.value=!0;try{const t=await N("https://tg-adsnet-api-proxy.goourl.ru/api/auth/register/",{method:"POST",body:{username:o.value.username,email:o.value.email,password:o.value.password},onResponseError({response:l}){n.value=l._data.errors}});(t==null?void 0:t.status)==="success"&&(g.setLoginMsg("User successfully registered"),y.push("/login"))}catch(t){console.error(t)}finally{i.value=!1}};return(t,l)=>{const f=k("RouterLink"),c=w;return S(),U("div",M,[p("div",z,[a(A,{class:E(["auth-card",t.$vuetify.display.smAndUp?"pa-6":"pa-0"]),"max-width":"460"},{default:s(()=>[a($,{class:"justify-center"},{default:s(()=>[a(j,null,{default:s(()=>[a(f,{to:"/"},{default:s(()=>[p("div",D,[a(e(P),{nodes:e(_).app.logo},null,8,["nodes"]),p("h1",H,R(e(_).app.title),1)])]),_:1})]),_:1})]),_:1}),a(F,null,{default:s(()=>[a(L,{onSubmit:T(b,["prevent"])},{default:s(()=>[a(I,null,{default:s(()=>[a(u,{cols:"12"},{default:s(()=>[a(c,{modelValue:e(o).username,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).username=r),autofocus:"",label:"Username",placeholder:"Username","error-messages":e(n).username},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(c,{modelValue:e(o).email,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).email=r),label:"Email",type:"email",placeholder:"Email","error-messages":e(n).email},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(c,{modelValue:e(o).password,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).password=r),label:"Password",placeholder:"Password",type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye","error-messages":e(n).password,"onClick:appendInner":l[3]||(l[3]=r=>d.value=!e(d))},null,8,["modelValue","type","append-inner-icon","error-messages"]),a(B,{block:"",type:"submit",class:"mt-8",loading:e(i),disabled:!e(v)||e(i)},{default:s(()=>[V(" Sign up ")]),_:1},8,["loading","disabled"])]),_:1}),a(u,{cols:"12",class:"text-center text-base"},{default:s(()=>[O,a(f,{class:"text-primary ms-1 d-inline-block",to:"login"},{default:s(()=>[V(" Sign in instead ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}};export{le as default};
