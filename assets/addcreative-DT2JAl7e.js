import{_ as F}from"./AppTextField-DtMBspkf.js";import{r as C,ay as z,az as I,aA as U,a as Z,o as p,c as h,d,m as f,b as e,e as a,a1 as N,t as V,al as b,F as O,h as T,f as D,ak as B,v as R,Q as j,R as L,an as S,ax as P}from"./index-mUf8a7pm.js";import{_ as E}from"./plugin-vue_export-helper-DlAUqK2U.js";import{a as v,V as x}from"./VRow-C46xLcHV.js";import{V as _,c as H,a as $}from"./VCard-BlgJAQ-u.js";import{V as g}from"./VCardText-BHogRFrq.js";import{V as J}from"./VImg-DQOj4B0x.js";import"./VTextField-XfMixXWU.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./VAvatar-Cw3es8BT.js";const A=m=>(j("data-v-c75942de"),m=m(),L(),m),K={class:"flex"},M={class:"w-full h-auto relative"},Q={key:0,class:"d-flex flex-column justify-center align-center gap-y-2 pa-12 drop-zone rounded"},q=A(()=>d("h4",{class:"text-h4"}," Drag and drop your image here. ",-1)),G=A(()=>d("span",{class:"text-disabled"},"or",-1)),W={key:1,class:"d-flex justify-center align-center gap-3 pa-8 drop-zone flex-wrap"},X={class:"mt-2"},Y={class:"clamp-text text-wrap"},ee={__name:"DropZone",emits:["dropFile"],setup(m,{emit:r}){const i=r,c=C(),n=C([]),{open:y,onChange:w}=z({accept:"image/*"});function u(l){l==null||l.forEach(t=>{if(t.type.slice(0,6)!=="image/"){alert("Only image files are allowed");return}n.value.push({file:t,url:I(t).value??""})})}return w(l=>{if(l){for(const t of l)n.value.push({file:t,url:I(t).value??""});i("dropFile",n.value[0].file)}}),U(c,u),(l,t)=>{const o=Z("IconBtn");return p(),h("div",K,[d("div",M,[d("div",{ref_key:"dropZoneRef",ref:c,class:"cursor-pointer",onClick:t[1]||(t[1]=()=>f(y)())},[f(n).length===0?(p(),h("div",Q,[e(o,{variant:"tonal",class:"rounded-sm"},{default:a(()=>[e(N,{icon:"tabler-upload"})]),_:1}),q,G,e(b,{variant:"tonal",size:"small"},{default:a(()=>[V(" Browse Images ")]),_:1})])):(p(),h("div",W,[e(x,{class:"match-height w-100"},{default:a(()=>[(p(!0),h(O,null,T(f(n),(s,k)=>(p(),D(v,{key:k,cols:"12",sm:"12"},{default:a(()=>[e(_,{ripple:!1},{default:a(()=>[e(g,{class:"d-flex flex-column",onClick:t[0]||(t[0]=B(()=>{},["stop"]))},{default:a(()=>[e(J,{src:s.url,width:"200px",height:"150px",class:"w-100 mx-auto"},null,8,["src"]),d("div",X,[d("span",Y,R(s.file.name),1),d("span",null,R(s.file.size/1e3)+" KB ",1)])]),_:2},1024),e(H,null,{default:a(()=>[e(b,{variant:"text",block:"",onClick:B(te=>f(n).splice(k,1),["stop"])},{default:a(()=>[V(" Remove File ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]))],512)])])}}},ae=E(ee,[["__scopeId","data-v-c75942de"]]),me={__name:"addcreative",setup(m){let r="111",i="333";const c={},n=async u=>{await y(u)};function y(u){return new Promise((l,t)=>{const o=new FileReader;o.onloadend=function(){l(o.result)},o.onerror=function(){t(o.error)},o.readAsDataURL(u)})}const w=async()=>{c.title=r,c.description=i,console.log(c),await P("https://tg-adsnet-api-proxy.goourl.ru/api/campaign/140/creative/add/",{method:"POST",body:JSON.stringify(c)})};return(u,l)=>{const t=ae,o=F;return p(),D(x,null,{default:a(()=>[e(v,{cols:"3",md:"3"},{default:a(()=>[e(_,{class:"mb-6"},{default:a(()=>[e($,null,{title:a(()=>[V(" Product Image ")]),_:1}),e(g,null,{default:a(()=>[e(t,{onDropFile:n})]),_:1})]),_:1})]),_:1}),e(v,{cols:"6",md:"6"},{default:a(()=>[e(_,{class:"mb-6"},{default:a(()=>[e(x,null,{default:a(()=>[e(g,null,{default:a(()=>[e(o,{modelValue:f(r),"onUpdate:modelValue":l[0]||(l[0]=s=>S(r)?r.value=s:r=s),label:"Headline",placeholder:"Headline"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,{class:"mb-6"},{default:a(()=>[e(x,null,{default:a(()=>[e(g,null,{default:a(()=>[e(o,{modelValue:f(i),"onUpdate:modelValue":l[1]||(l[1]=s=>S(i)?i.value=s:i=s),label:"Subtitle",placeholder:"Subtitle"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{cols:"3",md:"3"},{default:a(()=>[e(_,{class:"campaing-btn-card"},{default:a(()=>[e(g,null,{default:a(()=>[e(b,{color:"primary",block:"",onClick:w},{default:a(()=>[V(" Add creative ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{me as default};
