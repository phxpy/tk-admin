import{V as S,_ as D}from"./VDataTableServer-anBEBCE_.js";import{_ as I}from"./AppSelect-DefuZ7wx.js";import{u as C}from"./global-CLrGCGTs.js";import{r as f,G as N,$ as B,a as P,o as T,f as A,e as a,ax as U,b as l,d as _,al as $,t as i,v as p,m as G,a1 as c,Q as q,R as M}from"./index-DjTsIlKx.js";import{_ as O}from"./plugin-vue_export-helper-DlAUqK2U.js";import{V as j}from"./VCard-CB9Nw_l4.js";import{V as z}from"./VCardText-NvA5RlKj.js";import{V as E}from"./VDivider-DqMi194x.js";import"./VCheckboxBtn-DDc5BKYo.js";import"./VTextField-1MIzlOCc.js";import"./VImg-CAE0EHAq.js";import"./forwardRefs-DWGaNmQL.js";import"./VChip-DzMEg8d6.js";import"./VAvatar-0bmxWKaC.js";import"./VList-9G-E0lfh.js";import"./VOverlay-ojAQHOgf.js";import"./VMenu-BmWZhn2k.js";const F=g=>(q("data-v-52f4c242"),g=g(),M(),g),Q={class:"d-flex gap-4 align-center flex-wrap"},R={class:"d-flex align-center gap-2"},H=F(()=>_("span",null,"Show on page",-1)),J={__name:"index",setup(g){const x=C(),o=f([]),u=f([]),d=f(1),n=f(10),h=[{title:"CAMPAING ID",key:"id",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Name",key:"title",sortable:!0},{title:"budget",key:"total_budget",sortable:!0},{title:"Date",key:"date",sortable:!0},{title:"Total spend",key:"spend_budget",sortable:!0},{title:"Action",key:"actions",sortable:!1}],y=t=>{!t||!t.sortBy.length?u.value=o.value:t.sortBy[0].key==="date"?u.value=o.value.toSorted((r,m)=>{const s=+new Date(r.created_at),v=+new Date(m.created_at);if(t.sortBy.length&&t.sortBy[0].order==="asc")return s>v;if(t.sortBy.length&&t.sortBy[0].order==="desc")return s<v}):u.value=o.value.toSorted((r,m)=>{if(t.sortBy.length&&t.sortBy[0].order==="asc")return r[t.sortBy[0].key]>m[t.sortBy[0].key];if(t.sortBy.length&&t.sortBy[0].order==="desc")return r[t.sortBy[0].key]<m[t.sortBy[0].key]})},k=t=>y(t),V=async()=>{const t=await U("https://tg-adsnet-api-proxy.goourl.ru/api/campaign/",{method:"GET"});o.value=t,y()};N(async()=>{V()});const w=B(()=>!u.value||!u.value.length?[]:u.value.slice((d.value-1)*n.value,d.value*n.value)),b=B(()=>!o.value||!o.value.length?0:o.value.length);return(t,r)=>{const m=I,s=P("IconBtn"),v=D;return T(),A(j,null,{default:a(()=>[l(z,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:a(()=>[_("div",Q,[_("div",R,[H,l(m,{"model-value":n.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:1e3,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":r[0]||(r[0]=e=>n.value=parseInt(e,10))},null,8,["model-value"])]),l($,{"prepend-icon":"tabler-plus",to:{name:"newcampaign"}},{default:a(()=>[i(" New campaing ")]),_:1})])]),_:1}),l(E),l(S,{"items-per-page":n.value,"onUpdate:itemsPerPage":r[2]||(r[2]=e=>n.value=e),page:d.value,"onUpdate:page":r[3]||(r[3]=e=>d.value=e),headers:h,items:w.value,"items-length":b.value,class:"text-no-wrap","onUpdate:options":k},{"item.id":a(({item:e})=>[i(p(e.id),1)]),"item.status":a(({item:e})=>[i(p(e.status),1)]),"item.title":a(({item:e})=>[i(p(e.title),1)]),"item.total_budget":a(({item:e})=>[i(p(e.total_budget),1)]),"item.date":a(({item:e})=>[i(p(G(x).timeFormatter.format(new Date(e.created_at))),1)]),"item.spend_budget":a(({item:e})=>[i(p(e.spend_budget),1)]),"item.actions":a(({item:e})=>[l(s,null,{default:a(()=>[l(c,{icon:"tabler-play"})]),_:1}),l(s,null,{default:a(()=>[l(c,{icon:"tabler-pause"})]),_:1}),l(s,{to:{name:"creatives",query:{id:e.id}}},{default:a(()=>[l(c,{icon:"tabler-eye"})]),_:2},1032,["to"]),l(s,{to:{name:"editcampaign",query:{id:e.id}}},{default:a(()=>[l(c,{icon:"tabler-edit"})]),_:2},1032,["to"]),l(s,null,{default:a(()=>[l(c,{icon:"tabler-trash"})]),_:1})]),bottom:a(()=>[l(v,{page:d.value,"onUpdate:page":r[1]||(r[1]=e=>d.value=e),"items-per-page":n.value,"total-items":b.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}},me=O(J,[["__scopeId","data-v-52f4c242"]]);export{me as default};
