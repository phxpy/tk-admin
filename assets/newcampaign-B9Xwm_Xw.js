import{r as b}from"./validators-BEbcVQR5.js";import{_ as N}from"./AppTextField-Ck_ox4uQ.js";import{az as O,r as m,$ as U,o as $,f as P,e,b as l,m as o,an as p,t as C,al as L,ax as q}from"./index-Cg307mwv.js";import{_ as T}from"./DemoSelectBasic-DU4v4JTg.js";import{_ as k}from"./DemoSelectChips-DT93POMB.js";import{V as f,a as d}from"./VRow-bVqneUok.js";import{V as r}from"./VCard-CMRWxdwW.js";import{V as t}from"./VCardText-CPabXxxK.js";import"./VTextField-nR0g1Dhg.js";import"./VImg-CTNgiUfx.js";import"./forwardRefs-DWGaNmQL.js";import"./AppSelect-D3kKwQSQ.js";import"./VList-DOijohah.js";import"./VAvatar-DZAfVjqb.js";import"./VDivider-CJJ7EpGU.js";import"./VOverlay-BNFBBIco.js";import"./VMenu-b7u_DWNN.js";import"./VCheckboxBtn-BsJFJXtr.js";import"./VChip-Cq-pPocE.js";/* empty css              */const ll={__name:"newcampaign",setup(j){const s=O(),c=m(""),_=m([]),V=m([]),g=m([]),y=m("No"),v=m(""),h=U(()=>c.value&&_.value.length>0&&V.value.length>0&&g.value.length>0&&v.value),w=async()=>{const n=[];for(let a in s.platforms)g.value.includes(s.platforms[a])&&n.push(a);const u=[];for(let a in s.countries)_.value.includes(s.countries[a])&&u.push(a);const i=[];for(let a in s.languages)V.value.includes(s.languages[a])&&i.push(a);try{const a=await q("https://tg-adsnet-api-proxy.goourl.ru/api/campaign/add/",{method:"POST",body:{title:c.value,description:"test",target_url:v.value,category:4,cpc:1,scf:1,daily_views_limit:1e4,total_budget:"100",telegram_premium:"true",motivated_traffic:"true",task_type:"2",platform:n,country:u,language:i}});await q(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${a.created.id}/to_moderate/`),router.push({path:"/creatives",query:{id:a.created.id}})}catch(a){console.error(a)}};return(n,u)=>{const i=N;return $(),P(f,null,{default:e(()=>[l(d,{cols:"9",md:"9"},{default:e(()=>[l(r,{class:"mb-6",title:"New campaing"},{default:e(()=>[l(t,null,{default:e(()=>[l(i,{modelValue:o(c),"onUpdate:modelValue":u[0]||(u[0]=a=>p(c)?c.value=a:null),label:"Name",placeholder:"Campaing name"},null,8,["modelValue"])]),_:1}),l(t,null,{default:e(()=>[l(f,null,{default:e(()=>[l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,{title:"GEO"},{default:e(()=>[l(t,null,{default:e(()=>[l(k,{modelValue:o(_),"onUpdate:modelValue":u[1]||(u[1]=a=>p(_)?_.value=a:null),items:Object.values(o(s).countries),rules:["requiredValidator"in n?n.requiredValidator:o(b)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,{title:"Language"},{default:e(()=>[l(t,null,{default:e(()=>[l(k,{modelValue:o(V),"onUpdate:modelValue":u[2]||(u[2]=a=>p(V)?V.value=a:null),items:Object.values(o(s).languages),rules:["requiredValidator"in n?n.requiredValidator:o(b)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(t,null,{default:e(()=>[l(f,null,{default:e(()=>[l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,{title:"OS"},{default:e(()=>[l(t,null,{default:e(()=>[l(k,{modelValue:o(g),"onUpdate:modelValue":u[3]||(u[3]=a=>p(g)?g.value=a:null),items:Object.values(o(s).platforms),rules:["requiredValidator"in n?n.requiredValidator:o(b)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,{title:"Premium"},{default:e(()=>[l(t,null,{default:e(()=>[l(T,{modelValue:o(y),"onUpdate:modelValue":u[4]||(u[4]=a=>p(y)?y.value=a:null),items:["Yes","No"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(r,{class:"mb-6",title:"Task settings"},{default:e(()=>[l(t,null,{default:e(()=>[l(f,null,{default:e(()=>[l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,null,{default:e(()=>[l(t,null,{default:e(()=>[l(T,{label:"Task type"})]),_:1})]),_:1})]),_:1}),l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,null,{default:e(()=>[l(t,null,{default:e(()=>[l(i,{modelValue:o(v),"onUpdate:modelValue":u[5]||(u[5]=a=>p(v)?v.value=a:null),label:"Target link",type:"text",rules:["requiredValidator"in n?n.requiredValidator:o(b)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(t,null,{default:e(()=>[l(f,null,{default:e(()=>[l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,null,{default:e(()=>[l(t,null,{default:e(()=>[C(" Information about system macros ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(r,{class:"mb-6",title:"Finance settings"},{default:e(()=>[l(t,null,{default:e(()=>[l(f,null,{default:e(()=>[l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,null,{default:e(()=>[l(t,null,{default:e(()=>[l(i,{label:"Task price","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1}),l(d,{cols:"6",md:"6"},{default:e(()=>[l(r,null,{default:e(()=>[l(t,null,{default:e(()=>[l(i,{label:"Campaign limit","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(d,{cols:"3",md:"3"},{default:e(()=>[l(r,{class:"campaing-btn-card"},{default:e(()=>[l(t,null,{default:e(()=>[l(L,{color:"primary",disabled:!o(h),block:"",onClick:w},{default:e(()=>[C(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{ll as default};
