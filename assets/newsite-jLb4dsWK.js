import{r as c,u as y}from"./validators-DD8u1gFa.js";import{_ as C}from"./DemoSelectChips-BctkiK2q.js";import{_ as w}from"./AppTextField-2TGch0Rc.js";import{j as N,r as d,$ as T,o as D,f as L,e as a,b as e,m as r,an as p,al as S,t as U,ax as $}from"./index-BS23A-8V.js";import{V as h,a as _}from"./VRow-C5_PvRA-.js";import{V as b}from"./VCard-Bl_1nObG.js";import{V as n}from"./VCardText-Dupa1F-9.js";import"./AppSelect-BUMbAMKh.js";import"./VTextField-BBIv_7GE.js";import"./VImg-CEGqANsG.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-F8ys7wTi.js";import"./VAvatar-C3Dh_S9l.js";import"./VDivider-xe3kAmFZ.js";import"./VOverlay-Dn-Hev6S.js";import"./VMenu-DKlu_i5k.js";import"./VCheckboxBtn-BwMhMMIL.js";import"./VChip-CDyJhLnZ.js";/* empty css              */const Z={__name:"newsite",setup(j){const v=N(),i=d(""),u=d(""),s=d(""),V=d([]),m=d(!1),g=T(()=>i.value&&u.value&&s.value),q=async()=>{m.value=!0;try{const l=await $("https://tg-adsnet-api-proxy.goourl.ru/api/site/add/",{method:"POST",body:{name:i.value,description:u.value,target_url:s.value}});v.push({path:"/widgets",query:{id:l.created.id}})}catch(l){console.error(l)}finally{m.value=!1}};return(l,o)=>{const f=w,k=C;return D(),L(h,null,{default:a(()=>[e(_,{cols:"9",md:"9"},{default:a(()=>[e(b,{class:"mb-6",title:"New site"},{default:a(()=>[e(n,null,{default:a(()=>[e(f,{modelValue:r(i),"onUpdate:modelValue":o[0]||(o[0]=t=>p(i)?i.value=t:null),label:"Name",placeholder:"Name",rules:["requiredValidator"in l?l.requiredValidator:r(c)]},null,8,["modelValue","rules"])]),_:1}),e(n,null,{default:a(()=>[e(f,{modelValue:r(u),"onUpdate:modelValue":o[1]||(o[1]=t=>p(u)?u.value=t:null),label:"Description",placeholder:"Description",rules:["requiredValidator"in l?l.requiredValidator:r(c)]},null,8,["modelValue","rules"])]),_:1}),e(n,null,{default:a(()=>[e(f,{modelValue:r(s),"onUpdate:modelValue":o[2]||(o[2]=t=>p(s)?s.value=t:null),label:"Link",placeholder:"Link",rules:["requiredValidator"in l?l.requiredValidator:r(c),"urlValidator"in l?l.urlValidator:r(y)]},null,8,["modelValue","rules"])]),_:1}),e(n,null,{default:a(()=>[e(k,{modelValue:r(V),"onUpdate:modelValue":o[3]||(o[3]=t=>p(V)?V.value=t:null),label:"Subjects",items:[1,2,3,4,5]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"3",md:"3"},{default:a(()=>[e(b,{class:"campaing-btn-card"},{default:a(()=>[e(n,null,{default:a(()=>[e(S,{loading:r(m),color:"primary",disabled:!r(g)||r(m),block:"",onClick:q},{default:a(()=>[U(" Create Platform ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Z as default};
