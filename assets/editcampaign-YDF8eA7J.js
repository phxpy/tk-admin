import{_ as x}from"./AppTextField-DtMBspkf.js";import{r,i as U,aB as $,aC as B,ax as C,o as E,f as N,e,b as l,m as V,t as h,al as O}from"./index-mUf8a7pm.js";import{_ as y}from"./DemoSelectBasic-bSgVNryP.js";import{_ as v}from"./DemoSelectChips-tLnZBh3u.js";import{V as m,a as n}from"./VRow-C46xLcHV.js";import{V as o}from"./VCard-BlgJAQ-u.js";import{V as u}from"./VCardText-BHogRFrq.js";import"./VTextField-XfMixXWU.js";import"./VImg-DQOj4B0x.js";import"./forwardRefs-DWGaNmQL.js";import"./AppSelect-Dxo4WbRV.js";import"./VList-C9BtVZpC.js";import"./VAvatar-Cw3es8BT.js";import"./VDivider-DaIEAETc.js";import"./VOverlay-D99F2MpR.js";import"./VMenu-DXtwuv6u.js";import"./VCheckboxBtn-C5jahYdF.js";import"./VChip-Cd2aXZnD.js";/* empty css              */const X={__name:"editcampaign",setup(P){const k=r({}),f=r(""),g=r(""),p=r([]),c=r([]),_=r([]),b=U(),s=$();B(async()=>{const d=await C(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${b.query.id}`,{method:"GET"});k.value=d,d.telegram_premium?f.value="Yes":f.value="No",g.value=d.title,d.language.forEach(t=>{p.value.push(s.languages[t])}),d.country.forEach(t=>{c.value.push(s.countries[t])}),d.platform.forEach(t=>{_.value.push(s.platforms[t])})});const T=async()=>{const d=[];for(let a in s.platforms)_.value.includes(s.platforms[a])&&d.push(a);const t=[];for(let a in s.countries)c.value.includes(s.countries[a])&&t.push(a);const i=[];for(let a in s.languages)p.value.includes(s.languages[a])&&i.push(a);try{const a=await C(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${b.query.id}/edit/`,{method:"PATCH",body:{title:g.value,telegram_premium:f.value,platform:d,country:t,language:i}})}catch(a){console.error(a)}};return(d,t)=>{const i=x;return E(),N(m,null,{default:e(()=>[l(n,{cols:"9",md:"9"},{default:e(()=>[l(o,{class:"mb-6",title:"Campaing update"},{default:e(()=>[l(u,null,{default:e(()=>[l(i,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a),label:"Name",placeholder:"Campaing name"},null,8,["modelValue"])]),_:1}),l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,{title:"GEO"},{default:e(()=>[l(u,null,{default:e(()=>[l(v,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),items:Object.values(V(s).countries),"selected-items":c.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1}),l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,{title:"Language"},{default:e(()=>[l(u,null,{default:e(()=>[l(v,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=a=>p.value=a),items:Object.values(V(s).languages),"selected-items":p.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,{title:"Device"},{default:e(()=>[l(u,null,{default:e(()=>[l(v)]),_:1})]),_:1})]),_:1}),l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,{title:"OS"},{default:e(()=>[l(u,null,{default:e(()=>[l(v,{modelValue:_.value,"onUpdate:modelValue":t[3]||(t[3]=a=>_.value=a),items:Object.values(V(s).platforms),"selected-items":_.value},null,8,["modelValue","items","selected-items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,{title:"Premium"},{default:e(()=>[l(u,null,{default:e(()=>[l(y,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=a=>f.value=a),items:["Yes","No"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(o,{class:"mb-6",title:"Task settings"},{default:e(()=>[l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,null,{default:e(()=>[l(u,null,{default:e(()=>[l(y,{label:"Task type"})]),_:1})]),_:1})]),_:1}),l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,null,{default:e(()=>[l(u,null,{default:e(()=>[l(y,{label:"Task type"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,null,{default:e(()=>[l(u,null,{default:e(()=>[h(" 12312312312312 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(o,{class:"mb-6",title:"Finance settings"},{default:e(()=>[l(u,null,{default:e(()=>[l(m,null,{default:e(()=>[l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,null,{default:e(()=>[l(u,null,{default:e(()=>[l(i,{label:"Task price","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1}),l(n,{cols:"6",md:"6"},{default:e(()=>[l(o,null,{default:e(()=>[l(u,null,{default:e(()=>[l(i,{label:"Camaing limit","prepend-inner-icon":"tabler-currency-dollar",placeholder:"0.00"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(n,{cols:"3",md:"3"},{default:e(()=>[l(o,{class:"campaing-btn-card"},{default:e(()=>[l(u,null,{default:e(()=>[l(O,{color:"primary",block:"",onClick:T},{default:e(()=>[h(" Update ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{X as default};
