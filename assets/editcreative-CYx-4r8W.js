import{_ as C}from"./AppTextField-C680eNeU.js";import{_ as w}from"./DropZone-DGInggzH.js";import{i as I,r as c,$ as F,aA as k,ax as v,o as V,f as b,e as a,b as e,t as y,y as q,al as T}from"./index-CWraBpLz.js";import{V as f,a as _}from"./VRow-kUaHlpkb.js";import{V as p,a as h}from"./VCard-DZoQsszH.js";import{V as m}from"./VCardText-DiSglReM.js";import"./VTextField-DwMYOT3R.js";import"./VImg-M8Sh9rRd.js";import"./forwardRefs-DWGaNmQL.js";import"./plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./VAvatar-l8SG5SE9.js";const j={__name:"editcreative",setup(B){const u=I(),d=c(""),n=c(""),l=c(""),g=F(()=>d.value&&n.value&&l.value),$=async t=>{l.value=t},x=async()=>{const t=new FormData;t.append("title",d.value),t.append("description",n.value),t.append("icon",l.value),t.append("id",u.query.campId),await v(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${u.query.campId}/creative/${u.query.creativeId}/edit/`,{method:"PATCH",body:t})};return k(async()=>{const t=await v(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${u.query.campId}/creative/${u.query.creativeId}`,{method:"GET"});d.value=t.title,n.value=t.description;const s=await(await fetch(`https://tg-adsnet-core.goourl.ru${t.icon}`)).blob(),i=new File([s],`image-${t.created_at}.${t.icon.split(".").at(-1)}`,{type:s.type});l.value=i}),(t,o)=>{const s=w,i=C;return V(),b(f,null,{default:a(()=>[e(_,{cols:"3",md:"3"},{default:a(()=>[e(p,{class:"mb-6"},{default:a(()=>[e(h,null,{title:a(()=>[y(" Product Image ")]),_:1}),e(m,null,{default:a(()=>[l.value?(V(),b(s,{key:0,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=r=>l.value=r),"f-data":[l.value],onDropFile:$},null,8,["modelValue","f-data"])):q("",!0)]),_:1})]),_:1})]),_:1}),e(_,{cols:"6",md:"6"},{default:a(()=>[e(p,{class:"mb-6"},{default:a(()=>[e(f,null,{default:a(()=>[e(m,null,{default:a(()=>[e(i,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=r=>d.value=r),label:"Headline",placeholder:"Headline"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,{class:"mb-6"},{default:a(()=>[e(f,null,{default:a(()=>[e(m,null,{default:a(()=>[e(i,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=r=>n.value=r),label:"Subtitle",placeholder:"Subtitle"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{cols:"3",md:"3"},{default:a(()=>[e(p,{class:"campaing-btn-card"},{default:a(()=>[e(m,null,{default:a(()=>[e(T,{color:"primary",disabled:!g.value,block:"",onClick:x},{default:a(()=>[y(" Edit creative ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{j as default};
