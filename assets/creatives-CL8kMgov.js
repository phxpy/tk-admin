import{V as S,_ as C}from"./VDataTableServer-anBEBCE_.js";import{_ as D}from"./AppSelect-DefuZ7wx.js";import{u as T}from"./global-CLrGCGTs.js";import{i as B,r as v,G as q,ax as A,$ as y,a as N,o as b,f as V,e as t,b as a,d as r,al as P,m as _,t as l,v as s,y as $,a1 as p,Q as R,R as U}from"./index-DjTsIlKx.js";import{_ as E}from"./plugin-vue_export-helper-DlAUqK2U.js";import{V as z}from"./VCard-CB9Nw_l4.js";import{V as G}from"./VCardText-NvA5RlKj.js";import{V as j}from"./VDivider-DqMi194x.js";import{V as F}from"./VAvatar-0bmxWKaC.js";import{V as M}from"./VImg-CAE0EHAq.js";import"./VCheckboxBtn-DDc5BKYo.js";import"./VTextField-1MIzlOCc.js";import"./forwardRefs-DWGaNmQL.js";import"./VChip-DzMEg8d6.js";import"./VList-9G-E0lfh.js";import"./VOverlay-ojAQHOgf.js";import"./VMenu-BmWZhn2k.js";const O=c=>(R("data-v-6d01b604"),c=c(),U(),c),Q={class:"d-flex gap-4 align-center flex-wrap"},H={class:"d-flex align-center gap-2"},J=O(()=>r("span",null,"Show",-1)),K={class:"d-flex align-center gap-x-3"},L={class:"d-flex flex-column"},W={class:"text-body-1 font-weight-medium"},X={class:"text-body-2"},Y={__name:"creatives",setup(c){const x=T(),m=B(),k=[{title:"CREATIVE ID",key:"id",sortable:!1},{title:"Status",key:"status",sortable:!1},{title:"Creative",key:"creative",sortable:!1},{title:"Spend",key:"spend",sortable:!1},{title:"Views",key:"views",sortable:!1},{title:"Clicks",key:"clicks",sortable:!1},{title:"CTR",key:"ctr",sortable:!1},{title:"Date created",key:"created_at",sortable:!1},{title:"Action",key:"actions",sortable:!1}],u=v([]);q(async()=>{const g=await A(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/${m.query.id}/creative/`,{method:"GET"});u.value=g});const n=v(1),i=v(10),w=y(()=>u.value.slice((n.value-1)*i.value,n.value*i.value)),f=y(()=>u.value.length);return(g,o)=>{const I=D,d=N("IconBtn"),h=C;return b(),V(z,null,{default:t(()=>[a(G,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:t(()=>[r("div",Q,[r("div",H,[J,a(I,{"model-value":i.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=parseInt(e,10))},null,8,["model-value"])]),a(P,{"prepend-icon":"tabler-plus",to:{name:"addcreative",query:{campId:_(m).query.id}}},{default:t(()=>[l(" New creative ")]),_:1},8,["to"])])]),_:1}),a(j),a(S,{"items-per-page":i.value,"onUpdate:itemsPerPage":o[2]||(o[2]=e=>i.value=e),page:n.value,"onUpdate:page":o[3]||(o[3]=e=>n.value=e),headers:k,items:w.value,"items-length":f.value,class:"text-no-wrap"},{"item.id":t(({item:e})=>[l(s(e.stats.creativeId),1)]),"item.status":t(({item:e})=>[l(s(e.status||"-"),1)]),"item.creative":t(({item:e})=>[r("div",K,[a(F,{size:"34"},{default:t(()=>[e.icon?(b(),V(M,{key:0,src:e.icon},null,8,["src"])):$("",!0)]),_:2},1024),r("div",L,[r("div",W,s(e.title),1),r("div",X,s(e.description),1)])])]),"item.spend":t(({item:e})=>[l(s(e.sum_advert),1)]),"item.views":t(({item:e})=>[l(s(e.stats.sum_views),1)]),"item.clicks":t(({item:e})=>[l(s(e.stats.sum_hits),1)]),"item.ctr":t(({item:e})=>[l(s(e.stats.ctr),1)]),"item.created_at":t(({item:e})=>[l(s(_(x).timeFormatter.format(new Date(e.created_at))),1)]),"item.actions":t(({item:e})=>[a(d,null,{default:t(()=>[a(p,{icon:"tabler-play"})]),_:1}),a(d,null,{default:t(()=>[a(p,{icon:"tabler-pause"})]),_:1}),a(d,{to:{name:"editcreative",query:{campId:_(m).query.id,creativeId:e.id}}},{default:t(()=>[a(p,{icon:"tabler-edit"})]),_:2},1032,["to"]),a(d,null,{default:t(()=>[a(p,{icon:"tabler-trash"})]),_:1})]),bottom:t(()=>[a(h,{page:n.value,"onUpdate:page":o[1]||(o[1]=e=>n.value=e),"items-per-page":i.value,"total-items":f.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}},fe=E(Y,[["__scopeId","data-v-6d01b604"]]);export{fe as default};
