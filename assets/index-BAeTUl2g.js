import{V as D,_ as C}from"./VDataTableServer-CjcdU0ZF.js";import{_ as T}from"./AppSelect-D3kKwQSQ.js";import{u as A}from"./global-mbL6HRfp.js";import{r as p,G as N,$ as V,a as P,o as U,f as $,e as l,ax as z,b as a,d as g,al as G,t as i,v as d,m as q,a1 as c,Q as M,R as O}from"./index-Cg307mwv.js";import{_ as j}from"./plugin-vue_export-helper-DlAUqK2U.js";import{V as E}from"./VCard-CMRWxdwW.js";import{V as F}from"./VCardText-CPabXxxK.js";import{V as Q}from"./VDivider-CJJ7EpGU.js";import"./VCheckboxBtn-BsJFJXtr.js";import"./VTextField-nR0g1Dhg.js";import"./VImg-CTNgiUfx.js";import"./forwardRefs-DWGaNmQL.js";import"./VChip-Cq-pPocE.js";import"./VAvatar-DZAfVjqb.js";import"./VList-DOijohah.js";import"./VOverlay-BNFBBIco.js";import"./VMenu-b7u_DWNN.js";const k=v=>(M("data-v-0372a7e0"),v=v(),O(),v),R={class:"d-flex gap-4 align-center flex-wrap"},H={class:"d-flex align-center gap-2"},J=k(()=>g("span",null,"Show on page",-1)),K={class:"d-flex align-center gap-2"},L=k(()=>g("span",null,"Total Items",-1)),W={__name:"index",setup(v){const h=A(),m=p([]),_=p([]),w=[{title:"CAMPAING ID",key:"id",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Name",key:"title",sortable:!0},{title:"budget",key:"total_budget",sortable:!0},{title:"Date",key:"date",sortable:!0},{title:"Total spend",key:"spend_budget",sortable:!0},{title:"Action",key:"actions",sortable:!1}],b=t=>{!t||!t.sortBy.length?_.value=m.value:t.sortBy[0].key==="date"?_.value=m.value.toSorted((s,n)=>{const o=+new Date(s.created_at),f=+new Date(n.created_at);if(t.sortBy.length&&t.sortBy[0].order==="asc")return o>f;if(t.sortBy.length&&t.sortBy[0].order==="desc")return o<f}):_.value=m.value.toSorted((s,n)=>{if(t.sortBy.length&&t.sortBy[0].order==="asc")return s[t.sortBy[0].key]>n[t.sortBy[0].key];if(t.sortBy.length&&t.sortBy[0].order==="desc")return s[t.sortBy[0].key]<n[t.sortBy[0].key]})},I=t=>b(t),B=async()=>{const t=await z(`https://tg-adsnet-api-proxy.goourl.ru/api/campaign/?page_size=${y.value}`,{method:"GET"});m.value=t.results,b()};N(async()=>{B()});const S=V(()=>_.value.slice((u.value-1)*r.value,u.value*r.value)),u=p(1),r=p(10),y=p(10),x=V(()=>m.value.length);return(t,s)=>{const n=T,o=P("IconBtn"),f=C;return U(),$(E,null,{default:l(()=>[a(F,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:l(()=>[g("div",R,[g("div",H,[J,a(n,{"model-value":r.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:1e3,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=parseInt(e,10))},null,8,["model-value"])]),g("div",K,[L,a(n,{"model-value":y.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:1e3,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":s[1]||(s[1]=e=>{y.value=parseInt(e,10),B()})},null,8,["model-value"])]),a(G,{"prepend-icon":"tabler-plus",to:{name:"newcampaign"}},{default:l(()=>[i(" New campaing ")]),_:1})])]),_:1}),a(Q),a(D,{"items-per-page":r.value,"onUpdate:itemsPerPage":s[3]||(s[3]=e=>r.value=e),page:u.value,"onUpdate:page":s[4]||(s[4]=e=>u.value=e),headers:w,items:S.value,"items-length":x.value,class:"text-no-wrap","onUpdate:options":I},{"item.id":l(({item:e})=>[i(d(e.id),1)]),"item.status":l(({item:e})=>[i(d(e.status),1)]),"item.title":l(({item:e})=>[i(d(e.title),1)]),"item.total_budget":l(({item:e})=>[i(d(e.total_budget),1)]),"item.date":l(({item:e})=>[i(d(q(h).timeFormatter.format(new Date(e.created_at))),1)]),"item.spend_budget":l(({item:e})=>[i(d(e.spend_budget),1)]),"item.actions":l(({item:e})=>[a(o,null,{default:l(()=>[a(c,{icon:"tabler-play"})]),_:1}),a(o,null,{default:l(()=>[a(c,{icon:"tabler-pause"})]),_:1}),a(o,{to:{name:"creatives",query:{id:e.id}}},{default:l(()=>[a(c,{icon:"tabler-eye"})]),_:2},1032,["to"]),a(o,{to:{name:"editcampaign",query:{id:e.id}}},{default:l(()=>[a(c,{icon:"tabler-edit"})]),_:2},1032,["to"]),a(o,null,{default:l(()=>[a(c,{icon:"tabler-trash"})]),_:1})]),bottom:l(()=>[a(f,{page:u.value,"onUpdate:page":s[2]||(s[2]=e=>u.value=e),"items-per-page":r.value,"total-items":x.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}},ge=j(W,[["__scopeId","data-v-0372a7e0"]]);export{ge as default};
